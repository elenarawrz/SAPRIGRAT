package com.saprigrat.ui.components.pruebaderiego;

import java.text.DecimalFormat;
import java.util.LinkedList;

import org.vaadin.thomas.timefield.TimeField;

import com.saprigrat.data.Datos;
import com.vaadin.annotations.AutoGenerated;
import com.vaadin.data.Item;
import com.vaadin.data.validator.RegexpValidator;
import com.vaadin.event.ItemClickEvent;
import com.vaadin.event.ItemClickEvent.ItemClickListener;
import com.vaadin.ui.AbsoluteLayout;
import com.vaadin.ui.AbstractField;
import com.vaadin.ui.Button;
import com.vaadin.ui.Button.ClickEvent;
import com.vaadin.ui.Button.ClickListener;
import com.vaadin.ui.ComboBox;
import com.vaadin.ui.CustomComponent;
import com.vaadin.ui.Label;
import com.vaadin.ui.Notification;
import com.vaadin.ui.Panel;
import com.vaadin.ui.Table;
import com.vaadin.ui.TextField;
import com.vaadin.ui.VerticalLayout;

@SuppressWarnings("serial")
public class Caracteristicas extends CustomComponent
{
	/*- VaadinEditorProperties={"grid":"RegularGrid,20","showGrid":true,"snapToGrid":true,"snapToObject":true,"movingGuides":false,"snappingDistance":10} */

	@AutoGenerated
	private VerticalLayout mainLayout;
	@AutoGenerated
	private Panel panAvanceRecesion;
	@AutoGenerated
	private AbsoluteLayout absLAvanceRecesion;
	@AutoGenerated
	private Button btnCancel;
	@AutoGenerated
	private Button btnAdd;
	@AutoGenerated
	private VerticalLayout verLAvanceTabla;
	@AutoGenerated
	private AbsoluteLayout absLTabla;
	@AutoGenerated
	private Table tblAvance;
	@AutoGenerated
	private AbsoluteLayout absLAvance;
	@AutoGenerated
	private TimeField tmfRecesion;
	@AutoGenerated
	private TimeField tmfAvance;
	@AutoGenerated
	private Label lblDistancia;
	@AutoGenerated
	private TextField txtDistancia;
	@AutoGenerated
	private TextField txtNoAvance;
	@AutoGenerated
	private Panel panCaracteristicas;
	@AutoGenerated
	private VerticalLayout verLCaracteristicas;
	@AutoGenerated
	private AbsoluteLayout absLCaracteristicas5;
	@AutoGenerated
	private Label lblLamCalc;
	@AutoGenerated
	private TextField txtLamCalc;
	@AutoGenerated
	private Label lblLamApl;
	@AutoGenerated
	private TextField txtLamApl;
	@AutoGenerated
	private AbsoluteLayout absLCaracteristicas4;
	@AutoGenerated
	private Label lblGasto;
	@AutoGenerated
	private TextField txtGasto;
	@AutoGenerated
	private Label lblTirante;
	@AutoGenerated
	private TextField txtTirante;
	@AutoGenerated
	private AbsoluteLayout absLCaracteristicas3;
	@AutoGenerated
	private Label lblHumSat;
	@AutoGenerated
	private TextField txtHumSat;
	@AutoGenerated
	private Label lblHumIni;
	@AutoGenerated
	private TextField txtHumIni;
	@AutoGenerated
	private AbsoluteLayout absLCaracteristicas2;
	@AutoGenerated
	private Label lblProfRaices;
	@AutoGenerated
	private TextField txtProfRaices;
	@AutoGenerated
	private Label lblSupRegada;
	@AutoGenerated
	private TextField txtSupRegada;
	@AutoGenerated
	private ComboBox cmbEtapa;
	@AutoGenerated
	private AbsoluteLayout absLCaracteristicas1;
	@AutoGenerated
	private TextField txtTipoPrueba;
	@AutoGenerated
	private TextField txtNoRiego;
	private Datos datos;
	LinkedList<LinkedList<Object>> listaAvance;
	private ClickListener addAvanceListener=new ClickListener()
											{
												@Override
												public void buttonClick(ClickEvent event)
												{
													if(absLAvance.isVisible())
													{
														if(validarAvance())
														{
															if(btnAdd.getCaption().equals("Agregar"))
																listaAvance.add(getRow());
															else
																listaAvance.set(Integer.parseInt(txtNoAvance.getValue()) - 1, getRow());
															recargarListaAvance();
															limpiarAvance();
														}
													}
													else
														mostrarFormAvances();
												}
											};
	private ClickListener cancelarListener =new ClickListener()
											{
												@Override
												public void buttonClick(ClickEvent event)
												{
													limpiarAvance();
												}
											};
	private ItemClickListener cargarAvanceListener =new ItemClickListener()
													{
														@Override
														public void itemClick(ItemClickEvent event)
														{
															if(event.isDoubleClick())
															{
																Item item = event.getItem();
																txtNoAvance.setValue((Integer)item.getItemProperty("Núm.").getValue() + "");
																txtDistancia.setValue(item.getItemProperty("Distancia (m)").getValue() + "");
																setHora(tmfAvance, (String) item.getItemProperty("Avance (tiempo)").getValue());
																setHora(tmfRecesion, (String) item.getItemProperty("Recesión (tiempo)").getValue());
																
																mostrarFormAvances();
																btnAdd.setCaption("Modificar");
															}
														}
														private void setHora(TimeField tmf, String hora)
														{
															String[]horaAux = hora.split(":");
															tmf.setHours(Integer.parseInt(horaAux[0]));
															tmf.setMinutes(Integer.parseInt(horaAux[1]));
														}
													};
	public Caracteristicas()
	{
		buildMainLayout();
		setCompositionRoot(mainLayout);

		// TODO add user code here
		//Variables
		datos = new Datos();
		listaAvance = new LinkedList<LinkedList<Object>>();
		//Textfields
		txtNoAvance.setEnabled(false);
		//Comboboxes
		cmbEtapa.setNullSelectionAllowed(false);
		llenarLista(datos.getEtapaFenologica(), cmbEtapa);
		//Timefields
		tmfAvance.set24HourClock(false);
		tmfRecesion.set24HourClock(false);
		//Tables
		tblAvance.addContainerProperty("Núm.", Object.class, null);
		tblAvance.addContainerProperty("Distancia (m)", Object.class, null);
		tblAvance.addContainerProperty("Avance (tiempo)", Object.class, null);
		tblAvance.addContainerProperty("Recesión (tiempo)", Object.class, null);
		tblAvance.setSelectable(true);
		tblAvance.setSortEnabled(true);
		tblAvance.addItemClickListener(cargarAvanceListener);
		//Buttons
		btnAdd.addClickListener(addAvanceListener);
		btnCancel.addClickListener(cancelarListener);
		
		limpiarAvance();
		setValidaciones();
	}
	
	public LinkedList<Object> getValores()
	{
		LinkedList<Object> caracteristicas = new LinkedList<Object>();
		if(validar())
		{
			caracteristicas.add(Integer.parseInt(txtNoRiego.getValue()));
			caracteristicas.add(txtTipoPrueba.getValue());
			caracteristicas.add(cmbEtapa.getValue());
			caracteristicas.add(Double.parseDouble(txtSupRegada.getValue()));
			caracteristicas.add(Double.parseDouble(txtProfRaices.getValue()));
			caracteristicas.add(Double.parseDouble(txtHumIni.getValue()));
			caracteristicas.add(Double.parseDouble(txtHumSat.getValue()));
			caracteristicas.add(Double.parseDouble(txtTirante.getValue()));
			caracteristicas.add(Double.parseDouble(txtGasto.getValue()));
			caracteristicas.add(Double.parseDouble(txtLamApl.getValue()));
			caracteristicas.add(Double.parseDouble(txtLamCalc.getValue()));
			caracteristicas.add(getAvances());
		}
		return caracteristicas;
	}
	
	public void setValores(LinkedList<Object> caracteristicas)
	{
		txtNoRiego.setValue((String)caracteristicas.remove());
		txtTipoPrueba.setValue((String)caracteristicas.remove());
		cmbEtapa.setValue(caracteristicas.remove());
		txtSupRegada.setValue((String)caracteristicas.remove());
		txtProfRaices.setValue((String)caracteristicas.remove());
		txtHumIni.setValue((String)caracteristicas.remove());
		txtHumSat.setValue((String)caracteristicas.remove());
		txtTirante.setValue((String)caracteristicas.remove());
		txtGasto.setValue((String)caracteristicas.remove());
		txtLamApl.setValue((String)caracteristicas.remove());
		txtLamCalc.setValue((String)caracteristicas.remove());
		setAvances((String)caracteristicas.remove());
	}
	
	private void mostrarFormAvances()
	{
		btnCancel.setVisible(true);
		absLAvance.setVisible(true);
		absLAvanceRecesion.setHeight("320px");
	}
	
	private String getAvances()
	{
		String avance = "";
		for(LinkedList<Object> row : listaAvance)
			avance += row.get(1) + "&" + row.get(2) + "&" + row.get(3) + "@";
		return avance;
	}
	
	private void setAvances(String avances)
	{
		String[]avance = avances.split("@");
		for(String row : avance)
		{
			LinkedList<Object>auxList = new LinkedList<Object>();
			String[]auxArr = ("0&" + row).split("&");
			for(String auxVal : auxArr)
				auxList.add(auxVal);
			listaAvance.add(auxList);
		}
		recargarListaAvance();
	}
	
	private LinkedList<Object> getRow()
	{
		LinkedList<Object> avance = new LinkedList<Object>();
		avance.add(0);
		avance.add(txtDistancia.getValue());
		avance.add(setFormato(tmfAvance.getHours()) + ":" + setFormato(tmfAvance.getMinutes()));
		avance.add(setFormato(tmfRecesion.getHours()) + ":" + setFormato(tmfRecesion.getMinutes()));
		return avance;
	}
	
	private void recargarListaAvance()
	{
		tblAvance.removeAllItems();
		for(int i = 0; i < listaAvance.size(); i++)
		{
			LinkedList<Object> avance = listaAvance.get(i);
			avance.set(0, i + 1);
			tblAvance.addItem(avance.toArray(), null);
		}
	}
	
	private void limpiarAvance()
	{
		txtNoAvance.setValue(listaAvance.size() + 1 + "");
		txtDistancia.setValue("");
		tmfAvance.setValue(null);
		tmfRecesion.setValue(null);

		btnAdd.setCaption("Agregar");
		btnCancel.setVisible(false);
		absLAvance.setVisible(false);
		absLAvanceRecesion.setHeight("265px");
	}

	private void setValidaciones()
	{
		RegexpValidator esDecimal = new RegexpValidator("^[0-9]+(\\.[0-9]+)?$",
														"Debe ser un valor numérico");
		txtNoRiego.addValidator(esDecimal);
		txtSupRegada.addValidator(esDecimal);
		txtProfRaices.addValidator(esDecimal);
		txtHumIni.addValidator(esDecimal);
		txtHumSat.addValidator(esDecimal);
		txtTirante.addValidator(esDecimal);
		txtGasto.addValidator(esDecimal);
		txtLamApl.addValidator(esDecimal);
		txtLamCalc.addValidator(esDecimal);
		txtNoAvance.addValidator(esDecimal);
		txtDistancia.addValidator(esDecimal);
	}
	
	private boolean validar()
	{
		if(txtNoRiego.getValue().isEmpty() || !txtNoRiego.isValid())
			return notificar("Se requiere especificar un valor estríctamente numérico para el número de riego", txtNoRiego);
		if(txtTipoPrueba.getValue().isEmpty())
			return notificar("Se requiere especificar el tipo de prueba", txtTipoPrueba);
		if(cmbEtapa.getValue() == null)
			return notificar("Se requiere especificar la etapa fenológica", cmbEtapa);
		if(txtSupRegada.getValue().isEmpty() || !txtSupRegada.isValid())
			return notificar("Se requiere especificar un valor estríctamente numérico para la superficie regada", txtSupRegada);
		if(txtProfRaices.getValue().isEmpty() || !txtProfRaices.isValid())
			return notificar("Se requiere especificar un valor estríctamente numérico para la profundidad de raíces", txtProfRaices);
		if(txtHumIni.getValue().isEmpty() || !txtHumIni.isValid())
			return notificar("Se requiere especificar un valor estríctamente numérico para el contenido de humedad inicial", txtHumIni);
		if(txtHumSat.getValue().isEmpty() || !txtHumSat.isValid())
			return notificar("Se requiere especificar un valor estríctamente numérico para el contenido de humedad a saturación", txtHumSat);
		if(txtTirante.getValue().isEmpty() || !txtTirante.isValid())
			return notificar("Se requiere especificar un valor estríctamente numérico para el tirante del surco o melga", txtTirante);
		if(txtGasto.getValue().isEmpty() || !txtGasto.isValid())
			return notificar("Se requiere especificar un valor estríctamente numérico para el gasto en surco o melga", txtGasto);
		if(txtLamApl.getValue().isEmpty() || !txtLamApl.isValid())
			return notificar("Se requiere especificar un valor estríctamente numérico para la lámina aplicada", txtLamApl);
		if(txtLamCalc.getValue().isEmpty() || !txtLamCalc.isValid())
			return notificar("Se requiere especificar un valor estríctamente numérico para la lámina calculada", txtLamCalc);
		
		return true;
	}
	
	private boolean validarAvance()
	{
		if(txtDistancia.getValue().isEmpty() || !txtDistancia.isValid())
			return notificar("Se requiere especificar un valor estríctamente numérico para la distancia", txtDistancia);
		if(tmfAvance.getValue() == null)
			return notificar("Se requiere especificar la hora de avance", tmfAvance);
		if(tmfRecesion.getValue() == null)
			return notificar("Se requiere especificar la hora de recesión", tmfRecesion);
		if(tmfAvance.getValue().equals(tmfRecesion.getValue()) || tmfAvance.getValue().after(tmfRecesion.getValue()))
			return notificar("La hora de recesión debe ser mayor que la de avance", tmfRecesion);
		
		return true;
	}
	
	@SuppressWarnings("rawtypes")
	private boolean notificar(String notificacion, AbstractField field)
	{
		Notification.show(notificacion, Notification.Type.ERROR_MESSAGE);
		field.focus();
		return false;
	}
	
	private String setFormato(int numero)
	{
		return new DecimalFormat("00").format(numero);
	}
	
	private void llenarLista(LinkedList<String>elementos, ComboBox cmb)
	{
		cmb.removeAllItems();
		for(String elemento : elementos)
			cmb.addItem(elemento);
	}
	//region UI

	@AutoGenerated
	private VerticalLayout buildMainLayout() {
		// common part: create layout
		mainLayout = new VerticalLayout();
		mainLayout.setImmediate(false);
		mainLayout.setWidth("581px");
		mainLayout.setHeight("-1px");
		mainLayout.setMargin(true);
		mainLayout.setSpacing(true);
		
		// top-level component properties
		setWidth("581px");
		setHeight("-1px");
		
		// panCaracteristicas
		panCaracteristicas = buildPanCaracteristicas();
		mainLayout.addComponent(panCaracteristicas);
		
		// panAvanceRecesion
		panAvanceRecesion = buildPanAvanceRecesion();
		mainLayout.addComponent(panAvanceRecesion);
		
		return mainLayout;
	}

	@AutoGenerated
	private Panel buildPanCaracteristicas() {
		// common part: create layout
		panCaracteristicas = new Panel();
		panCaracteristicas.setImmediate(false);
		panCaracteristicas.setWidth("100.0%");
		panCaracteristicas.setHeight("-1px");
		
		// verLCaracteristicas
		verLCaracteristicas = buildVerLCaracteristicas();
		panCaracteristicas.setContent(verLCaracteristicas);
		
		return panCaracteristicas;
	}

	@AutoGenerated
	private VerticalLayout buildVerLCaracteristicas() {
		// common part: create layout
		verLCaracteristicas = new VerticalLayout();
		verLCaracteristicas.setImmediate(false);
		verLCaracteristicas.setWidth("100.0%");
		verLCaracteristicas.setHeight("-1px");
		verLCaracteristicas.setMargin(false);
		
		// absLCaracteristicas1
		absLCaracteristicas1 = buildAbsLCaracteristicas1();
		verLCaracteristicas.addComponent(absLCaracteristicas1);
		
		// absLCaracteristicas2
		absLCaracteristicas2 = buildAbsLCaracteristicas2();
		verLCaracteristicas.addComponent(absLCaracteristicas2);
		
		// absLCaracteristicas3
		absLCaracteristicas3 = buildAbsLCaracteristicas3();
		verLCaracteristicas.addComponent(absLCaracteristicas3);
		
		// absLCaracteristicas4
		absLCaracteristicas4 = buildAbsLCaracteristicas4();
		verLCaracteristicas.addComponent(absLCaracteristicas4);
		
		// absLCaracteristicas5
		absLCaracteristicas5 = buildAbsLCaracteristicas5();
		verLCaracteristicas.addComponent(absLCaracteristicas5);
		
		return verLCaracteristicas;
	}

	@AutoGenerated
	private AbsoluteLayout buildAbsLCaracteristicas1() {
		// common part: create layout
		absLCaracteristicas1 = new AbsoluteLayout();
		absLCaracteristicas1.setImmediate(false);
		absLCaracteristicas1.setWidth("100.0%");
		absLCaracteristicas1.setHeight("55px");
		
		// txtNoRiego
		txtNoRiego = new TextField();
		txtNoRiego.setCaption("Núm. de Riego");
		txtNoRiego.setImmediate(false);
		txtNoRiego.setWidth("100px");
		txtNoRiego.setHeight("25px");
		absLCaracteristicas1
				.addComponent(txtNoRiego, "top:28.0px;left:10.0px;");
		
		// txtTipoPrueba
		txtTipoPrueba = new TextField();
		txtTipoPrueba.setCaption("Tipo de Prueba");
		txtTipoPrueba.setImmediate(false);
		txtTipoPrueba.setWidth("385px");
		txtTipoPrueba.setHeight("25px");
		absLCaracteristicas1.addComponent(txtTipoPrueba,
				"top:28.0px;left:130.0px;");
		
		return absLCaracteristicas1;
	}

	@AutoGenerated
	private AbsoluteLayout buildAbsLCaracteristicas2() {
		// common part: create layout
		absLCaracteristicas2 = new AbsoluteLayout();
		absLCaracteristicas2.setImmediate(false);
		absLCaracteristicas2.setWidth("100.0%");
		absLCaracteristicas2.setHeight("45px");
		
		// cmbEtapa
		cmbEtapa = new ComboBox();
		cmbEtapa.setCaption("Etapa Fenológica");
		cmbEtapa.setImmediate(false);
		cmbEtapa.setWidth("250px");
		cmbEtapa.setHeight("25px");
		absLCaracteristicas2.addComponent(cmbEtapa, "top:18.0px;left:10.0px;");
		
		// txtSupRegada
		txtSupRegada = new TextField();
		txtSupRegada.setCaption("Superficie Regada");
		txtSupRegada.setImmediate(false);
		txtSupRegada.setWidth("100px");
		txtSupRegada.setHeight("25px");
		absLCaracteristicas2.addComponent(txtSupRegada,
				"top:18.0px;left:280.0px;");
		
		// lblSupRegada
		lblSupRegada = new Label();
		lblSupRegada.setImmediate(false);
		lblSupRegada.setWidth("-1px");
		lblSupRegada.setHeight("-1px");
		lblSupRegada.setValue("ha");
		absLCaracteristicas2.addComponent(lblSupRegada,
				"top:22.0px;left:385.0px;");
		
		// txtProfRaices
		txtProfRaices = new TextField();
		txtProfRaices.setCaption("Prof. de Raíces");
		txtProfRaices.setImmediate(false);
		txtProfRaices.setWidth("100px");
		txtProfRaices.setHeight("25px");
		absLCaracteristicas2.addComponent(txtProfRaices,
				"top:18.0px;left:415.0px;");
		
		// lblProfRaices
		lblProfRaices = new Label();
		lblProfRaices.setImmediate(false);
		lblProfRaices.setWidth("-1px");
		lblProfRaices.setHeight("-1px");
		lblProfRaices.setValue("cm");
		absLCaracteristicas2.addComponent(lblProfRaices,
				"top:22.0px;left:520.0px;");
		
		return absLCaracteristicas2;
	}

	@AutoGenerated
	private AbsoluteLayout buildAbsLCaracteristicas3() {
		// common part: create layout
		absLCaracteristicas3 = new AbsoluteLayout();
		absLCaracteristicas3.setImmediate(false);
		absLCaracteristicas3.setWidth("100.0%");
		absLCaracteristicas3.setHeight("45px");
		
		// txtHumIni
		txtHumIni = new TextField();
		txtHumIni.setCaption("Cont. de Hum. Inicial");
		txtHumIni.setImmediate(false);
		txtHumIni.setWidth("150px");
		txtHumIni.setHeight("25px");
		absLCaracteristicas3.addComponent(txtHumIni, "top:18.0px;left:10.0px;");
		
		// lblHumIni
		lblHumIni = new Label();
		lblHumIni.setImmediate(false);
		lblHumIni.setWidth("-1px");
		lblHumIni.setHeight("-1px");
		lblHumIni.setValue("cm3/cm3");
		absLCaracteristicas3
				.addComponent(lblHumIni, "top:22.0px;left:165.0px;");
		
		// txtHumSat
		txtHumSat = new TextField();
		txtHumSat.setCaption("Cont. de Hum. Saturación");
		txtHumSat.setImmediate(false);
		txtHumSat.setWidth("150px");
		txtHumSat.setHeight("25px");
		absLCaracteristicas3
				.addComponent(txtHumSat, "top:18.0px;left:230.0px;");
		
		// lblHumSat
		lblHumSat = new Label();
		lblHumSat.setImmediate(false);
		lblHumSat.setWidth("-1px");
		lblHumSat.setHeight("-1px");
		lblHumSat.setValue("cm3/cm3");
		absLCaracteristicas3
				.addComponent(lblHumSat, "top:22.0px;left:385.0px;");
		
		return absLCaracteristicas3;
	}

	@AutoGenerated
	private AbsoluteLayout buildAbsLCaracteristicas4() {
		// common part: create layout
		absLCaracteristicas4 = new AbsoluteLayout();
		absLCaracteristicas4.setImmediate(false);
		absLCaracteristicas4.setWidth("100.0%");
		absLCaracteristicas4.setHeight("45px");
		
		// txtTirante
		txtTirante = new TextField();
		txtTirante.setCaption("Tirante del Surco o Melga");
		txtTirante.setImmediate(false);
		txtTirante.setWidth("150px");
		txtTirante.setHeight("25px");
		absLCaracteristicas4
				.addComponent(txtTirante, "top:18.0px;left:10.0px;");
		
		// lblTirante
		lblTirante = new Label();
		lblTirante.setImmediate(false);
		lblTirante.setWidth("-1px");
		lblTirante.setHeight("-1px");
		lblTirante.setValue("cm");
		absLCaracteristicas4.addComponent(lblTirante,
				"top:22.0px;left:165.0px;");
		
		// txtGasto
		txtGasto = new TextField();
		txtGasto.setCaption("Gasto  en Surco o Melga");
		txtGasto.setImmediate(false);
		txtGasto.setWidth("150px");
		txtGasto.setHeight("25px");
		absLCaracteristicas4.addComponent(txtGasto, "top:18.0px;left:230.0px;");
		
		// lblGasto
		lblGasto = new Label();
		lblGasto.setImmediate(false);
		lblGasto.setWidth("-1px");
		lblGasto.setHeight("-1px");
		lblGasto.setValue("L/s");
		absLCaracteristicas4.addComponent(lblGasto, "top:22.0px;left:385.0px;");
		
		return absLCaracteristicas4;
	}

	@AutoGenerated
	private AbsoluteLayout buildAbsLCaracteristicas5() {
		// common part: create layout
		absLCaracteristicas5 = new AbsoluteLayout();
		absLCaracteristicas5.setImmediate(false);
		absLCaracteristicas5.setWidth("100.0%");
		absLCaracteristicas5.setHeight("55px");
		
		// txtLamApl
		txtLamApl = new TextField();
		txtLamApl.setCaption("Lámina Aplicada");
		txtLamApl.setImmediate(false);
		txtLamApl.setWidth("150px");
		txtLamApl.setHeight("25px");
		absLCaracteristicas5.addComponent(txtLamApl, "top:18.0px;left:10.0px;");
		
		// lblLamApl
		lblLamApl = new Label();
		lblLamApl.setImmediate(false);
		lblLamApl.setWidth("-1px");
		lblLamApl.setHeight("-1px");
		lblLamApl.setValue("cm");
		absLCaracteristicas5
				.addComponent(lblLamApl, "top:22.0px;left:165.0px;");
		
		// txtLamCalc
		txtLamCalc = new TextField();
		txtLamCalc.setCaption("Lámina Calculada");
		txtLamCalc.setImmediate(false);
		txtLamCalc.setWidth("150px");
		txtLamCalc.setHeight("25px");
		absLCaracteristicas5.addComponent(txtLamCalc,
				"top:18.0px;left:230.0px;");
		
		// lblLamCalc
		lblLamCalc = new Label();
		lblLamCalc.setImmediate(false);
		lblLamCalc.setWidth("-1px");
		lblLamCalc.setHeight("-1px");
		lblLamCalc.setValue("cm");
		absLCaracteristicas5.addComponent(lblLamCalc,
				"top:22.0px;left:385.0px;");
		
		return absLCaracteristicas5;
	}

	@AutoGenerated
	private Panel buildPanAvanceRecesion() {
		// common part: create layout
		panAvanceRecesion = new Panel();
		panAvanceRecesion.setCaption("Avance-Recesión");
		panAvanceRecesion.setImmediate(false);
		panAvanceRecesion.setWidth("100.0%");
		panAvanceRecesion.setHeight("-1px");
		
		// absLAvanceRecesion
		absLAvanceRecesion = buildAbsLAvanceRecesion();
		panAvanceRecesion.setContent(absLAvanceRecesion);
		
		return panAvanceRecesion;
	}

	@AutoGenerated
	private AbsoluteLayout buildAbsLAvanceRecesion() {
		// common part: create layout
		absLAvanceRecesion = new AbsoluteLayout();
		absLAvanceRecesion.setImmediate(false);
		absLAvanceRecesion.setWidth("100.0%");
		absLAvanceRecesion.setHeight("320px");
		
		// verLAvanceTabla
		verLAvanceTabla = buildVerLAvanceTabla();
		absLAvanceRecesion.addComponent(verLAvanceTabla);
		
		// btnAdd
		btnAdd = new Button();
		btnAdd.setCaption("Agregar");
		btnAdd.setImmediate(true);
		btnAdd.setWidth("85px");
		btnAdd.setHeight("-1px");
		absLAvanceRecesion.addComponent(btnAdd, "top:28.0px;right:10.0px;");
		
		// btnCancel
		btnCancel = new Button();
		btnCancel.setCaption("Cancelar");
		btnCancel.setImmediate(true);
		btnCancel.setWidth("85px");
		btnCancel.setHeight("-1px");
		absLAvanceRecesion.addComponent(btnCancel, "top:60.0px;right:10.0px;");
		
		return absLAvanceRecesion;
	}

	@AutoGenerated
	private VerticalLayout buildVerLAvanceTabla() {
		// common part: create layout
		verLAvanceTabla = new VerticalLayout();
		verLAvanceTabla.setImmediate(false);
		verLAvanceTabla.setWidth("440px");
		verLAvanceTabla.setHeight("-1px");
		verLAvanceTabla.setMargin(false);
		
		// absLAvance
		absLAvance = buildAbsLAvance();
		verLAvanceTabla.addComponent(absLAvance);
		
		// absLTabla
		absLTabla = buildAbsLTabla();
		verLAvanceTabla.addComponent(absLTabla);
		
		return verLAvanceTabla;
	}

	@AutoGenerated
	private AbsoluteLayout buildAbsLAvance() {
		// common part: create layout
		absLAvance = new AbsoluteLayout();
		absLAvance.setImmediate(false);
		absLAvance.setWidth("100.0%");
		absLAvance.setHeight("55px");
		
		// txtNoAvance
		txtNoAvance = new TextField();
		txtNoAvance.setCaption("Núm.");
		txtNoAvance.setImmediate(false);
		txtNoAvance.setWidth("60px");
		txtNoAvance.setHeight("25px");
		absLAvance.addComponent(txtNoAvance, "top:28.0px;left:10.0px;");
		
		// txtDistancia
		txtDistancia = new TextField();
		txtDistancia.setCaption("Distancia");
		txtDistancia.setImmediate(false);
		txtDistancia.setWidth("100px");
		txtDistancia.setHeight("25px");
		absLAvance.addComponent(txtDistancia, "top:28.0px;left:85.0px;");
		
		// lblDistancia
		lblDistancia = new Label();
		lblDistancia.setImmediate(false);
		lblDistancia.setWidth("-1px");
		lblDistancia.setHeight("-1px");
		lblDistancia.setValue("m");
		absLAvance.addComponent(lblDistancia, "top:32.0px;left:190.0px;");
		
		// tmfAvance
		tmfAvance = new TimeField();
		tmfAvance.setCaption("Avance");
		tmfAvance.setImmediate(false);
		tmfAvance.setWidth("-1px");
		tmfAvance.setHeight("25px");
		absLAvance.addComponent(tmfAvance, "top:28.0px;left:215.0px;");
		
		// tmfRecesion
		tmfRecesion = new TimeField();
		tmfRecesion.setCaption("Recesión");
		tmfRecesion.setImmediate(false);
		tmfRecesion.setWidth("-1px");
		tmfRecesion.setHeight("25px");
		absLAvance.addComponent(tmfRecesion, "top:28.0px;left:330.0px;");
		
		return absLAvance;
	}

	@AutoGenerated
	private AbsoluteLayout buildAbsLTabla() {
		// common part: create layout
		absLTabla = new AbsoluteLayout();
		absLTabla.setImmediate(false);
		absLTabla.setWidth("100.0%");
		absLTabla.setHeight("265px");
		
		// tblAvance
		tblAvance = new Table();
		tblAvance
				.setCaption("* Dar doble click sobre un elemento para modificarlo");
		tblAvance.setImmediate(false);
		tblAvance.setWidth("425px");
		tblAvance.setHeight("225px");
		absLTabla.addComponent(tblAvance, "top:28.0px;left:10.0px;");
		
		return absLTabla;
	}
	
	//endregion
}