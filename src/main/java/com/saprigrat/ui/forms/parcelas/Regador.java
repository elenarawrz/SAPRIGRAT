package com.saprigrat.ui.forms.parcelas;

import java.sql.Date;
import java.util.LinkedList;

import com.saprigrat.entities.Usuario;
import com.saprigrat.enums.TipoUsuario;
import com.saprigrat.ui.interfaces.FormParcela;
import com.saprigrat.ui.interfaces.Formulario;
import com.vaadin.annotations.AutoGenerated;
import com.vaadin.data.Property.ValueChangeEvent;
import com.vaadin.data.Property.ValueChangeListener;
import com.vaadin.event.ItemClickEvent;
import com.vaadin.event.ItemClickEvent.ItemClickListener;
import com.vaadin.event.ShortcutAction.KeyCode;
import com.vaadin.event.ShortcutAction.ModifierKey;
import com.vaadin.shared.ui.combobox.FilteringMode;
import com.vaadin.ui.AbsoluteLayout;
import com.vaadin.ui.Alignment;
import com.vaadin.ui.Button;
import com.vaadin.ui.Button.ClickEvent;
import com.vaadin.ui.Button.ClickListener;
import com.vaadin.ui.CheckBox;
import com.vaadin.ui.ComboBox;
import com.vaadin.ui.CustomComponent;
import com.vaadin.ui.DateField;
import com.vaadin.ui.HorizontalLayout;
import com.vaadin.ui.Label;
import com.vaadin.ui.Panel;
import com.vaadin.ui.Table;
import com.vaadin.ui.TextField;
import com.vaadin.ui.VerticalLayout;

@SuppressWarnings("serial")
public class Regador extends CustomComponent implements Formulario, FormParcela
{
	/*- VaadinEditorProperties={"grid":"RegularGrid,20","showGrid":true,"snapToGrid":true,"snapToObject":true,"movingGuides":false,"snappingDistance":10} */
	//region controles autogenerados
	
	@AutoGenerated
	private VerticalLayout mainLayout;
	@AutoGenerated
	private AbsoluteLayout absLBotones;
	@AutoGenerated
	private HorizontalLayout horLBotones;
	@AutoGenerated
	private Button btnVolver;
	@AutoGenerated
	private Button btnNuevo;
	@AutoGenerated
	private Button btnGuardar;
	@AutoGenerated
	private VerticalLayout verLDatos;
	@AutoGenerated
	private AbsoluteLayout absLGeneralesDetalles;
	@AutoGenerated
	private Panel panDetalles;
	@AutoGenerated
	private AbsoluteLayout absLDetalles;
	@AutoGenerated
	private CheckBox chkCapacitacion;
	@AutoGenerated
	private DateField datIngreso;
	@AutoGenerated
	private Panel panGenerales;
	@AutoGenerated
	private VerticalLayout verLGenerales;
	@AutoGenerated
	private AbsoluteLayout absLGenerales2;
	@AutoGenerated
	private TextField txtApM;
	@AutoGenerated
	private TextField txtApP;
	@AutoGenerated
	private AbsoluteLayout absLGenerales1;
	@AutoGenerated
	private TextField txtNombre;
	@AutoGenerated
	private HorizontalLayout horLRespParcela;
	@AutoGenerated
	private Panel panParcela;
	@AutoGenerated
	private AbsoluteLayout absLParcela;
	@AutoGenerated
	private ComboBox cmbParcela;
	@AutoGenerated
	private Panel panProductor;
	@AutoGenerated
	private AbsoluteLayout absLProductor;
	@AutoGenerated
	private ComboBox cmbProductor;
	@AutoGenerated
	private VerticalLayout verLListado;
	@AutoGenerated
	private Label lblRowCount;
	@AutoGenerated
	private Table tblListado;
	@AutoGenerated
	private Panel panResponsable;
	@AutoGenerated
	private AbsoluteLayout absLResponsable;
	@AutoGenerated
	private ComboBox cmbResponsable;
	
	//endregion
	private Usuario usuario;
	private int idRegador, idParcela;
	
	//region eventos
	private ClickListener guardarListener = new ClickListener()
			{
				@Override
				public void buttonClick(ClickEvent event)
				{
					if(validar())
					{
						LinkedList<Object> valores = llenarListaDeParametros();
						if(btnGuardar.getCaption().equals("Guardar"))
						{
							valores.add(4, u.fechaUtilToSQL(datIngreso.getValue()));
							
							String status = datos.registrarRegador(valores);
							if(!status.isEmpty())
							{
								u.msjGuardado("El " + TipoUsuario.REGADOR, "");
								//Se cambia a modo de modificación
								setTipo(MODO_MODIFICAR);
								idRegador = Integer.parseInt(status);
							}
							else
								u.msjNoGuardado(TipoUsuario.REGADOR.toString());
						}
						else
						{
							valores.add(0, idRegador);
							
							if(!datos.modificarRegador(valores).isEmpty())
								u.msjModificado("El " + TipoUsuario.REGADOR);
							else
								u.msjNoModificado(TipoUsuario.REGADOR.toString());
						}
					}
				}
			};
	private ItemClickListener llenarFormListener = new ItemClickListener()
			{
				@Override
				public void itemClick(ItemClickEvent event)
				{
					if(event.isDoubleClick())
					{
						idRegador = (Integer)event.getItem().getItemProperty("ID").getValue();
						LinkedList<Object> valores = datos.getRegador(idRegador);
						if(!valores.isEmpty())
						{
							setTipo(MODO_MODIFICAR);
							
							u.llenarCombo(cmbProductor, datos.getRespProductores(((String)cmbResponsable.getValue()).split(" ")[0]));
							cmbProductor.setValue(valores.remove());
							u.llenarCombo(cmbParcela, datos.getCtasPadron(((String)cmbProductor.getValue()).split(" ")[0]));
							cmbParcela.setValue(valores.remove());
							txtNombre.setValue((String)valores.remove());
							txtApP.setValue((String)valores.remove());
							txtApM.setValue((String)valores.remove());
							datIngreso.setValue(u.fechaSQLToUtil((Date)valores.remove()));
							chkCapacitacion.setValue((Boolean)valores.remove());
						}
						else
							u.msjRegistroNoObtenido();
					}
				}
			};
	private ValueChangeListener llenarTablaOProductoresListener = new ValueChangeListener()
			{
				@Override
				public void valueChange(ValueChangeEvent event)
				{
					String curr = ((String)cmbResponsable.getValue()).split(" ")[0];
					if(verLListado.isVisible())
						lblRowCount.setValue(u.llenarTabla(tblListado, panResponsable.isVisible() ? datos.getRegadores(curr)
																								  : datos.getRegadoresByParcela(idParcela), "regador"));
					else
					{
						cmbParcela.removeAllItems();
						u.llenarCombo(cmbProductor, datos.getRespProductores(curr));
					}
				}
			};
	private ClickListener nuevoListener = new ClickListener()
			{
				@Override
				public void buttonClick(ClickEvent event)
				{
					if(panResponsable.isVisible())
						resetForm(MODO_AGREGAR);
					else
					{
						idRegador = 0;
						txtNombre.setValue("");
						txtApP.setValue("");
						txtApM.setValue("");
						datIngreso.setValue(null);
						chkCapacitacion.setValue(false);
						
						setTipo(MODO_AGREGAR);
					}
				}
			};
	private ClickListener volverListener = new ClickListener()
			{
				@Override
				public void buttonClick(ClickEvent event)
				{
					if(panResponsable.isVisible())
						resetForm(MODO_LISTA);
					else
						setTipo(MODO_LISTA);
					llenarTablaByParcela();
				}
			};
	private ValueChangeListener llenarParcelasListener = new ValueChangeListener()
			{
				@Override
				public void valueChange(ValueChangeEvent event)
				{
					if(cmbProductor.size() != 0)
					{
						u.llenarCombo(cmbParcela, datos.getCtasPadron(((String)cmbProductor.getValue()).split(" ")[0]));
						if(cmbParcela.size() == 0)
							u.notificar("No se podrá agregar el registro ya que este " + TipoUsuario.PRODUCTOR + " no está relacionado con ninguna parcela", null, u.MSJ_ERROR);
					}
					else
						u.notificar("No se podrá agregar el registro ya que este " + TipoUsuario.RESPONSABLE_TECNICO + " no tiene asignado a ningún " + TipoUsuario.PRODUCTOR, null, u.MSJ_ERROR);
				}
			};
	//endregion
			
	public Regador() {}
	public Regador(Usuario user) { init(user); }

	@Override
	public void init(Usuario user)
	{
		usuario = user;
	}

	@Override
	public void inicializar()
	{
		buildMainLayout();
		setCompositionRoot(mainLayout);
		
		//Comboboxes
		u.setupCombo(cmbResponsable, null, "Busque por nombre o CURR.", FilteringMode.CONTAINS, false, true);
		u.setupCombo(cmbProductor, null, "Busque por nombre o CURR.", FilteringMode.CONTAINS, false, true);
		u.setupCombo(cmbParcela, null, "Busque por número de cuenta de padrón.", null, false, true);
		cmbResponsable.addValueChangeListener(llenarTablaOProductoresListener);
		cmbProductor.addValueChangeListener(llenarParcelasListener);
		//Datefields
		//datIngreso.setDateFormat("dd/MMM/yyyy");
		//Buttons
		btnNuevo.addClickListener(nuevoListener);
		btnVolver.addClickListener(volverListener);
		btnGuardar.addClickListener(guardarListener);
		//Tables
		tblListado.setSelectable(true);
		tblListado.setSortEnabled(true);
		tblListado.setColumnCollapsingAllowed(true);
		tblListado.addItemClickListener(llenarFormListener);
		//Inicializar en modo lista
		setTipo(MODO_LISTA);
		//Agregar las validaciones necesarias
		setValidaciones();
	}
	
	@Override
	public void setTipo(int modoOperacion)
	{
		btnNuevo.setClickShortcut(KeyCode.N, ModifierKey.ALT);
		if(modoOperacion == MODO_LISTA)
		{
			setResponsableTecnico(usuario.getTipo());
			mostrarTabla(true);
			btnGuardar.removeClickShortcut();
			btnGuardar.setVisible(false);
			btnVolver.removeClickShortcut();
			btnVolver.setVisible(false);
			btnNuevo.setCaption("Agregar Nuevo");
		}
		else
		{
			mostrarTabla(false);
			btnGuardar.setClickShortcut(KeyCode.G, ModifierKey.ALT);
			btnGuardar.setVisible(true);
			btnVolver.setClickShortcut(KeyCode.V, ModifierKey.ALT);
			btnVolver.setVisible(true);
			
			if(modoOperacion == MODO_AGREGAR)
			{
				elementosIdHabilitados(true);
				btnGuardar.setCaption("Guardar");
				btnNuevo.setClickShortcut(KeyCode.L, ModifierKey.ALT);
				btnNuevo.setCaption("Limpiar");
			}
			else
			{
				elementosIdHabilitados(false);
				btnGuardar.setCaption("Guardar cambios");
				btnNuevo.setCaption("Agregar Nuevo");
			}
		}
	}
	
	@Override
	public void quitarListeners ()
	{
		cmbResponsable.removeValueChangeListener(llenarTablaOProductoresListener);
		cmbProductor.removeValueChangeListener(llenarParcelasListener);
		
		panResponsable.setVisible(false);
		horLRespParcela.setVisible(false);
	}

	@Override
	public void setParcela (int idParcela, String padron)
	{
		u.llenarCombo(cmbParcela, padron);
		this.idParcela = idParcela;
		llenarTablaByParcela();
	}

	@Override
	public void setResponsable (String responsable)
	{
		u.llenarCombo(cmbResponsable, responsable);
	}

	@Override
	public void setProductor (String productor)
	{
		u.llenarCombo(cmbProductor, productor);
	}

	private void setResponsableTecnico(int tipoAgregando)
	{
		if(panResponsable.isVisible())
		{
			if(tipoAgregando != usuario.RESPONSABLE)
				u.llenarCombo(cmbResponsable, datos.getRespTecnicos(usuario.getCURR(), tipoAgregando, usuario.RESPONSABLE));
			else
				u.llenarCombo(cmbResponsable, usuario.getCURR() + " " + usuario.getNombre() + " " +
											  usuario.getApPaterno() + " " + usuario.getApMaterno());
			if(cmbResponsable.size() == 0)
			{
				mainLayout.removeAllComponents();
				u.notificar("Imposible registrar " + TipoUsuario.REGADOR + ", se requiere que exista al menos una parcela a la cual pueda ser asignado", null, u.MSJ_ERROR);
			}
		}
	}
	
	private void llenarTablaByParcela ()
	{
		if(idParcela > 0)
			lblRowCount.setValue(u.llenarTabla(tblListado, datos.getRegadoresByParcela(idParcela), "regador"));
		else
		{
			lblRowCount.setValue(u.llenarTabla(tblListado, new LinkedList<Object[]>(), "regador"));
			setTipo(MODO_LISTA);
		}
	}

	private void mostrarTabla(boolean estado)
	{
		panProductor.setVisible(!estado);
		verLListado.setVisible(estado);
		verLDatos.setVisible(!estado);
	}
	
	private void elementosIdHabilitados(boolean habilitado)
	{
		if(usuario.getTipo() != usuario.ADMINISTRADOR)
		{
			cmbResponsable.setEnabled(habilitado);
			cmbProductor.setEnabled(habilitado);
			cmbParcela.setEnabled(habilitado);
		}
		datIngreso.setEnabled(habilitado);
	}
	
	private void setValidaciones()
	{
		txtNombre.setMaxLength(40);
		txtApP.setMaxLength(20);
		txtApM.setMaxLength(20);
	}
	
	private boolean validar()
	{
		if(cmbParcela.getValue() == null)
			return u.notificar("Se requiere especificar la parcela a la que se asigna", cmbParcela, u.MSJ_ERROR);
		if(txtNombre.getValue().isEmpty())
			return u.notificar("Se requiere especificar el nombre", txtNombre, u.MSJ_ERROR);
		if(txtApP.getValue().isEmpty() || txtApM.getValue().isEmpty())
			return u.notificar("Se requiere especificar ambos apellidos", txtApP, u.MSJ_ERROR);
		if(datIngreso.getValue() == null)
			return u.notificar("Se requiere especificar la fecha de ingreso", datIngreso, u.MSJ_ERROR);
		
		return true;
	}

	private LinkedList<Object> llenarListaDeParametros()
	{
		LinkedList<Object> valores = new LinkedList<Object>();
		valores.add(cmbParcela.getValue());
		valores.add(txtNombre.getValue());
		valores.add(txtApP.getValue());
		valores.add(txtApM.getValue());
		valores.add(chkCapacitacion.getValue());
		return valores;
	}
	
	private void resetForm(int modo)
	{
		Object respSelected = cmbResponsable.getValue();
		inicializar();
		setTipo(modo);
		cmbResponsable.setValue(respSelected);
	}
	//region UI
	
	@AutoGenerated
	private VerticalLayout buildMainLayout() {
		// common part: create layout
		mainLayout = new VerticalLayout();
		mainLayout.setImmediate(false);
		mainLayout.setWidth("-1px");
		mainLayout.setHeight("-1px");
		mainLayout.setMargin(true);
		mainLayout.setSpacing(true);
		
		// top-level component properties
		setWidth("-1px");
		setHeight("-1px");
		
		// panResponsable
		panResponsable = buildPanResponsable();
		mainLayout.addComponent(panResponsable);
		
		// verLListado
		verLListado = buildVerLListado();
		mainLayout.addComponent(verLListado);
		
		// verLDatos
		verLDatos = buildVerLDatos();
		mainLayout.addComponent(verLDatos);
		
		// absLBotones
		absLBotones = buildAbsLBotones();
		mainLayout.addComponent(absLBotones);
		mainLayout.setComponentAlignment(absLBotones, new Alignment(10));
		
		return mainLayout;
	}
	@AutoGenerated
	private Panel buildPanResponsable() {
		// common part: create layout
		panResponsable = new Panel();
		panResponsable.setCaption("Responsable Técnico");
		panResponsable.setImmediate(false);
		panResponsable.setWidth("396px");
		panResponsable.setHeight("-1px");
		
		// absLResponsable
		absLResponsable = buildAbsLResponsable();
		panResponsable.setContent(absLResponsable);
		
		return panResponsable;
	}
	@AutoGenerated
	private AbsoluteLayout buildAbsLResponsable() {
		// common part: create layout
		absLResponsable = new AbsoluteLayout();
		absLResponsable.setImmediate(false);
		absLResponsable.setWidth("100.0%");
		absLResponsable.setHeight("45px");
		
		// cmbResponsable
		cmbResponsable = new ComboBox();
		cmbResponsable.setImmediate(true);
		cmbResponsable.setWidth("375px");
		cmbResponsable.setHeight("25px");
		absLResponsable.addComponent(cmbResponsable, "top:10.0px;left:10.0px;");
		
		return absLResponsable;
	}
	@AutoGenerated
	private VerticalLayout buildVerLListado() {
		// common part: create layout
		verLListado = new VerticalLayout();
		verLListado.setImmediate(false);
		verLListado.setWidth("-1px");
		verLListado.setHeight("-1px");
		verLListado.setMargin(false);
		
		// tblListado
		tblListado = new Table();
		tblListado
				.setCaption("* Dar doble click sobre un elemento para modificarlo");
		tblListado.setImmediate(false);
		tblListado.setWidth("801px");
		tblListado.setHeight("300px");
		verLListado.addComponent(tblListado);
		
		// lblRowCount
		lblRowCount = new Label();
		lblRowCount.setImmediate(false);
		lblRowCount.setWidth("-1px");
		lblRowCount.setHeight("-1px");
		lblRowCount.setValue("0 registros encontrados");
		verLListado.addComponent(lblRowCount);
		
		return verLListado;
	}
	@AutoGenerated
	private VerticalLayout buildVerLDatos() {
		// common part: create layout
		verLDatos = new VerticalLayout();
		verLDatos.setImmediate(false);
		verLDatos.setWidth("-1px");
		verLDatos.setHeight("-1px");
		verLDatos.setMargin(false);
		verLDatos.setSpacing(true);
		
		// horLRespParcela
		horLRespParcela = buildHorLRespParcela();
		verLDatos.addComponent(horLRespParcela);
		
		// absLGeneralesDetalles
		absLGeneralesDetalles = buildAbsLGeneralesDetalles();
		verLDatos.addComponent(absLGeneralesDetalles);
		
		return verLDatos;
	}
	@AutoGenerated
	private HorizontalLayout buildHorLRespParcela() {
		// common part: create layout
		horLRespParcela = new HorizontalLayout();
		horLRespParcela.setImmediate(false);
		horLRespParcela.setWidth("801px");
		horLRespParcela.setHeight("-1px");
		horLRespParcela.setMargin(false);
		
		// panProductor
		panProductor = buildPanProductor();
		horLRespParcela.addComponent(panProductor);
		
		// panParcela
		panParcela = buildPanParcela();
		horLRespParcela.addComponent(panParcela);
		horLRespParcela.setComponentAlignment(panParcela, new Alignment(6));
		
		return horLRespParcela;
	}
	@AutoGenerated
	private Panel buildPanProductor() {
		// common part: create layout
		panProductor = new Panel();
		panProductor.setCaption("Usuario");
		panProductor.setImmediate(false);
		panProductor.setWidth("396px");
		panProductor.setHeight("-1px");
		
		// absLProductor
		absLProductor = buildAbsLProductor();
		panProductor.setContent(absLProductor);
		
		return panProductor;
	}
	@AutoGenerated
	private AbsoluteLayout buildAbsLProductor() {
		// common part: create layout
		absLProductor = new AbsoluteLayout();
		absLProductor.setImmediate(false);
		absLProductor.setWidth("100.0%");
		absLProductor.setHeight("45px");
		
		// cmbProductor
		cmbProductor = new ComboBox();
		cmbProductor.setImmediate(true);
		cmbProductor.setWidth("375px");
		cmbProductor.setHeight("25px");
		absLProductor.addComponent(cmbProductor, "top:10.0px;left:10.0px;");
		
		return absLProductor;
	}
	@AutoGenerated
	private Panel buildPanParcela() {
		// common part: create layout
		panParcela = new Panel();
		panParcela.setCaption("Parcela (Núm. de Cta. / Subcta. de Padrón)");
		panParcela.setImmediate(false);
		panParcela.setWidth("396px");
		panParcela.setHeight("-1px");
		
		// absLParcela
		absLParcela = buildAbsLParcela();
		panParcela.setContent(absLParcela);
		
		return panParcela;
	}
	@AutoGenerated
	private AbsoluteLayout buildAbsLParcela() {
		// common part: create layout
		absLParcela = new AbsoluteLayout();
		absLParcela.setImmediate(false);
		absLParcela.setWidth("100.0%");
		absLParcela.setHeight("45px");
		
		// cmbParcela
		cmbParcela = new ComboBox();
		cmbParcela.setImmediate(true);
		cmbParcela.setWidth("375px");
		cmbParcela.setHeight("25px");
		absLParcela.addComponent(cmbParcela, "top:10.0px;left:10.0px;");
		
		return absLParcela;
	}
	@AutoGenerated
	private AbsoluteLayout buildAbsLGeneralesDetalles() {
		// common part: create layout
		absLGeneralesDetalles = new AbsoluteLayout();
		absLGeneralesDetalles.setImmediate(false);
		absLGeneralesDetalles.setWidth("801px");
		absLGeneralesDetalles.setHeight("134px");
		
		// panGenerales
		panGenerales = buildPanGenerales();
		absLGeneralesDetalles.addComponent(panGenerales);
		
		// panDetalles
		panDetalles = buildPanDetalles();
		absLGeneralesDetalles.addComponent(panDetalles,
				"top:0.0px;right:0.0px;");
		
		return absLGeneralesDetalles;
	}
	@AutoGenerated
	private Panel buildPanGenerales() {
		// common part: create layout
		panGenerales = new Panel();
		panGenerales.setCaption("Datos Generales");
		panGenerales.setImmediate(false);
		panGenerales.setWidth("481px");
		panGenerales.setHeight("-1px");
		
		// verLGenerales
		verLGenerales = buildVerLGenerales();
		panGenerales.setContent(verLGenerales);
		
		return panGenerales;
	}
	@AutoGenerated
	private VerticalLayout buildVerLGenerales() {
		// common part: create layout
		verLGenerales = new VerticalLayout();
		verLGenerales.setImmediate(false);
		verLGenerales.setWidth("100.0%");
		verLGenerales.setHeight("-1px");
		verLGenerales.setMargin(false);
		
		// absLGenerales1
		absLGenerales1 = buildAbsLGenerales1();
		verLGenerales.addComponent(absLGenerales1);
		
		// absLGenerales2
		absLGenerales2 = buildAbsLGenerales2();
		verLGenerales.addComponent(absLGenerales2);
		
		return verLGenerales;
	}
	@AutoGenerated
	private AbsoluteLayout buildAbsLGenerales1() {
		// common part: create layout
		absLGenerales1 = new AbsoluteLayout();
		absLGenerales1.setImmediate(false);
		absLGenerales1.setWidth("100.0%");
		absLGenerales1.setHeight("55px");
		
		// txtNombre
		txtNombre = new TextField();
		txtNombre.setCaption("Nombre");
		txtNombre.setImmediate(false);
		txtNombre.setWidth("460px");
		txtNombre.setHeight("25px");
		absLGenerales1.addComponent(txtNombre, "top:28.0px;left:10.0px;");
		
		return absLGenerales1;
	}
	@AutoGenerated
	private AbsoluteLayout buildAbsLGenerales2() {
		// common part: create layout
		absLGenerales2 = new AbsoluteLayout();
		absLGenerales2.setImmediate(false);
		absLGenerales2.setWidth("100.0%");
		absLGenerales2.setHeight("55px");
		
		// txtApP
		txtApP = new TextField();
		txtApP.setCaption("Apellido Paterno");
		txtApP.setImmediate(false);
		txtApP.setWidth("220px");
		txtApP.setHeight("25px");
		absLGenerales2.addComponent(txtApP, "top:18.0px;left:10.0px;");
		
		// txtApM
		txtApM = new TextField();
		txtApM.setCaption("Apellido Materno");
		txtApM.setImmediate(false);
		txtApM.setWidth("220px");
		txtApM.setHeight("25px");
		absLGenerales2.addComponent(txtApM, "top:18.0px;left:250.0px;");
		
		return absLGenerales2;
	}
	@AutoGenerated
	private Panel buildPanDetalles() {
		// common part: create layout
		panDetalles = new Panel();
		panDetalles.setCaption("Detalles del Programa");
		panDetalles.setImmediate(false);
		panDetalles.setWidth("296px");
		panDetalles.setHeight("-1px");
		
		// absLDetalles
		absLDetalles = buildAbsLDetalles();
		panDetalles.setContent(absLDetalles);
		
		return panDetalles;
	}
	@AutoGenerated
	private AbsoluteLayout buildAbsLDetalles() {
		// common part: create layout
		absLDetalles = new AbsoluteLayout();
		absLDetalles.setImmediate(false);
		absLDetalles.setWidth("100.0%");
		absLDetalles.setHeight("110px");
		
		// datIngreso
		datIngreso = new DateField();
		datIngreso.setCaption("Fecha de Ingreso al Programa");
		datIngreso.setImmediate(false);
		datIngreso.setWidth("275px");
		datIngreso.setHeight("25px");
		absLDetalles.addComponent(datIngreso, "top:28.0px;left:10.0px;");
		
		// chkCapacitacion
		chkCapacitacion = new CheckBox();
		chkCapacitacion.setCaption("Capacitación Recibida");
		chkCapacitacion.setImmediate(false);
		chkCapacitacion.setWidth("-1px");
		chkCapacitacion.setHeight("-1px");
		absLDetalles.addComponent(chkCapacitacion, "top:70.0px;left:10.0px;");
		
		return absLDetalles;
	}
	@AutoGenerated
	private AbsoluteLayout buildAbsLBotones() {
		// common part: create layout
		absLBotones = new AbsoluteLayout();
		absLBotones.setImmediate(false);
		absLBotones.setWidth("801px");
		absLBotones.setHeight("30px");
		
		// btnGuardar
		btnGuardar = new Button();
		btnGuardar.setCaption("Guardar");
		btnGuardar.setImmediate(true);
		btnGuardar.setWidth("-1px");
		btnGuardar.setHeight("-1px");
		absLBotones.addComponent(btnGuardar, "right:0.0px;bottom:0.0px;");
		
		// horLBotones
		horLBotones = buildHorLBotones();
		absLBotones.addComponent(horLBotones, "bottom:0.0px;left:0.0px;");
		
		return absLBotones;
	}
	@AutoGenerated
	private HorizontalLayout buildHorLBotones() {
		// common part: create layout
		horLBotones = new HorizontalLayout();
		horLBotones.setImmediate(false);
		horLBotones.setWidth("-1px");
		horLBotones.setHeight("-1px");
		horLBotones.setMargin(false);
		horLBotones.setSpacing(true);
		
		// btnNuevo
		btnNuevo = new Button();
		btnNuevo.setCaption("Agregar Nuevo");
		btnNuevo.setImmediate(true);
		btnNuevo.setWidth("-1px");
		btnNuevo.setHeight("-1px");
		horLBotones.addComponent(btnNuevo);
		
		// btnVolver
		btnVolver = new Button();
		btnVolver.setCaption("Volver");
		btnVolver.setImmediate(true);
		btnVolver.setWidth("-1px");
		btnVolver.setHeight("-1px");
		horLBotones.addComponent(btnVolver);
		
		return horLBotones;
	}
	
	//endregion
}